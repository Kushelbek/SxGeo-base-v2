# SxGeo-base-v2
Плагин позволяет быстро определить местоположение пользователя по ip. Для Cotonti

# Возможности и особенности

    Высокая скорость работы
    Определение по IP-адресу страны и города
    Хорошая точность определения по странам СНГ
    База содержит названия населенных пунктов в русской транскрипции

# Установка

    Распаковать, скопировать файлы в корень сайта.
    Установить через панель Администрирования → Расширения (Управление сайтом → Расширения)
    Проверьте настройки в меню настройки плагина (Управление сайтом → Расширения → sxgeo → Конфигурация).

# Использование

# Использовать данные можно двумя способами:

    Через вызовы функций sx_getCity($ip) и sx_getCountry($ip). Эти функции возвращают строки с именем города и страны соответственно. Если IP адрес не указан - система использует IP адрес текущего пользователя.

    Примеры:
    {PHP|sx_getCity('8.8.8.8')}
    {PHP.usr.ip|sx_getCountry($this)}

    Если в настройках расширения включен режим Автоматическая инициализация, то в шаблонах можно использовать прямые обращения к сгенерированным для текущего пользователя данным.

    Вот пару основных тэгов

    {PHP.sx_ip} Айпи пользователя
    {PHP.sx_city.ext_info.country.name_ru} Страна (если нужна страна транслитом то name_ru поменять на name_en) (для городов и регионов соответственно)
    {PHP.sx_city.ext_info.region.name_ru} Регион
    {PHP.sx_city.info.city.name_ru} Город
    {PHP.sx_city.info.city.lat} Широта
    {PHP.sx_city.info.city.lon} Долгота
